
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://heal-docs-dev.io/notebooks/BACPAC_Synthetic_Data_Analysis/">
      
      <link rel="icon" href="../../img/heal_logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.5.3">
    
    
      
        <title>BACPAC Synthetic Data Analysis - HEAL Example Analysis</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7a952b86.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Montserrat";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="heal_platform" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bacpac-synthetic-data-analysis" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://healdata.org" title="HEAL Example Analysis" class="md-header__button md-logo" aria-label="HEAL Example Analysis" data-md-component="logo">
      
  <img src="../../assets/HEAL_Initiative_White-cropped.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HEAL Example Analysis
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              BACPAC Synthetic Data Analysis
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://healdata.org" title="HEAL Example Analysis" class="md-nav__button md-logo" aria-label="HEAL Example Analysis" data-md-component="logo">
      
  <img src="../../assets/HEAL_Initiative_White-cropped.svg" alt="logo">

    </a>
    HEAL Example Analysis
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://healdata.org/" class="md-nav__link">
        Return to Platform
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Example Analysis Notebooks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Example Analysis Notebooks" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Example Analysis Notebooks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          BACPAC Synthetic Data Analysis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        BACPAC Synthetic Data Analysis
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#qiong-liu" class="md-nav__link">
    Qiong Liu
  </a>
  
    <nav class="md-nav" aria-label="Qiong Liu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#april-2nd-2021" class="md-nav__link">
    April 2nd, 2021
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-content" class="md-nav__link">
    Table of Content
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-notebook" class="md-nav__link">
    Set up notebook
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-cell-ipython3" class="md-nav__link">
    ```{code-cell} ipython3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pull-file-objects-using-the-gen3-sdk" class="md-nav__link">
    Pull file objects using the Gen3 SDK
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-cell-ipython3_1" class="md-nav__link">
    ```{code-cell} ipython3
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faqs.md" class="md-nav__link">
        FAQs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#qiong-liu" class="md-nav__link">
    Qiong Liu
  </a>
  
    <nav class="md-nav" aria-label="Qiong Liu">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#april-2nd-2021" class="md-nav__link">
    April 2nd, 2021
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-content" class="md-nav__link">
    Table of Content
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-notebook" class="md-nav__link">
    Set up notebook
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-cell-ipython3" class="md-nav__link">
    ```{code-cell} ipython3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pull-file-objects-using-the-gen3-sdk" class="md-nav__link">
    Pull file objects using the Gen3 SDK
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-cell-ipython3_1" class="md-nav__link">
    ```{code-cell} ipython3
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="bacpac-synthetic-data-analysis">BACPAC Synthetic Data Analysis<a class="headerlink" href="#bacpac-synthetic-data-analysis" title="Permanent link">&para;</a></h1>
<h2 id="qiong-liu">Qiong Liu<a class="headerlink" href="#qiong-liu" title="Permanent link">&para;</a></h2>
<h3 id="april-2nd-2021">April 2nd, 2021<a class="headerlink" href="#april-2nd-2021" title="Permanent link">&para;</a></h3>
<p>In this Jupyter notebook, we used the <a href="https://healdata.org/portal/discovery/HDP00258/">BACPAC study</a> as an example to demonstrate how to navigate datasets within the workspace in HEAL and conduct data analysis using Python libraries.</p>
<h2 id="table-of-content">Table of Content<a class="headerlink" href="#table-of-content" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#h1">Set up notebook</a></li>
<li><a href="#Pull-file-objects-using-the-Gen3-SDK">Pull file objects using the Gen3 SDK</a></li>
<li><a href="#Demographic-characteristics-of-participants-in-BACPAC">Demographic characteristics of participants in BACPAC</a></li>
<li><a href="#Opiod-pain-medication-profiling-at-two-time-points">Opiod pain medication profiling at two time points</a></li>
<li><a href="#Physical-function-outcomes">Physical function outcomes</a></li>
</ul>
<p>+++</p>
<p>(h1)=</p>
<h2 id="set-up-notebook">Set up notebook<a class="headerlink" href="#set-up-notebook" title="Permanent link">&para;</a></h2>
<h2 id="code-cell-ipython3">```{code-cell} ipython3<a class="headerlink" href="#code-cell-ipython3" title="Permanent link">&para;</a></h2>
<p>jupyter:
  source_hidden: true</p>
<hr />
<p>import pandas as pd
import plotly
import plotly.graph_objects as go
import plotly.express as px
from plotly.subplots import make_subplots
import plotly.io as pio
from pathlib import Path
import numpy as np
import json
import requests
import os
plotly.offline.init_notebook_mode()
<div class="highlight"><pre><span></span><code>## Query study metadata
Users can query [study metadata in HEAL data commons](https://healdata.org/mds/metadata?data=True) using our metadata service (MDS). The cell below shows how to retrieve the metadata of the BACPAC study by interacting with the gen3 MDS endpoint.

```{code-cell} ipython3
---
jupyter:
  source_hidden: true
---
# Query the metadata of BACPAC using the project number &quot;1U24AR076730-01&quot;
response=requests.get(&quot;https://healdata.org/mds/metadata?data=True&amp;limit=1000&amp;gen3_discovery.project_number=1U24AR076730-01&quot;)
metadata_text=response.text
metadata_object=json.loads(metadata_text)
meta_df = pd.json_normalize([sub[&#39;gen3_discovery&#39;] for sub in metadata_object.values() if &#39;gen3_discovery&#39; in sub.keys()])
meta_df[[&#39;research_focus_area&#39;, &#39;study_description_summary&#39;, &#39;institutions&#39;]].transpose()
</code></pre></div></p>
<h2 id="pull-file-objects-using-the-gen3-sdk">Pull file objects using the Gen3 SDK<a class="headerlink" href="#pull-file-objects-using-the-gen3-sdk" title="Permanent link">&para;</a></h2>
<p>```{code-cell} ipython3
!gen3 drs-pull object dg.H34L/80f0a338-18e0-48de-b70f-cdabd63f67d9
!gen3 drs-pull object dg.H34L/530fd95c-48b6-488e-a699-9377180bd82d
!gen3 drs-pull object dg.H34L/654d7f1f-b61c-49a9-8a74-c82400fa4c27
<div class="highlight"><pre><span></span><code>## Demographic characteristics of participants in BACPAC

```{code-cell} ipython3
---
jupyter:
  source_hidden: true
---
# Read the demographic tsv file into dataframe
demo_bacpac=pd.read_csv(&quot;./participant_SMART.tsv&quot;, sep=&quot;\t&quot;, encoding=&quot;utf-8&quot;)


# Define age groups within participants
age_list = list(demo_bacpac[&quot;age_in_years&quot;])
def age_group(agelist):
    min_age = min(agelist)
    grouplabel1 = str(min_age) + &quot;-55 yr&quot;
    grouplabel2= &quot;&gt;55 yr&quot;
    grouplist = []
    for i in agelist:
        if i &lt;=55:
            grouplist.append(grouplabel1)
        else:
            grouplist.append(grouplabel2)
    return grouplist

agegrouplist = age_group(age_list)
demo_bacpac[&quot;age_group&quot;] = agegrouplist

# Compute three frequency tables using demographic factors
df1=pd.crosstab(index=demo_bacpac[&#39;race&#39;], columns=demo_bacpac[&#39;sex&#39;])
df2=pd.crosstab(index=demo_bacpac[&#39;ethnicity&#39;], columns=demo_bacpac[&#39;sex&#39;])
df3=pd.crosstab(index=demo_bacpac[&#39;age_group&#39;], columns=demo_bacpac[&#39;sex&#39;])

# Dsiplay concatenated tables
pd.concat([df1, df2, df3], keys=[&#39;race&#39;, &#39;ethnicity&#39;, &#39;age_group&#39;])
</code></pre></div></p>
<h2 id="code-cell-ipython3_1">```{code-cell} ipython3<a class="headerlink" href="#code-cell-ipython3_1" title="Permanent link">&para;</a></h2>
<p>jupyter:
  source_hidden: true</p>
<hr />
<h1 id="generate-a-stacked-bar-chart-of-participants-in-bacpac">Generate a stacked bar chart of participants in BACPAC<a class="headerlink" href="#generate-a-stacked-bar-chart-of-participants-in-bacpac" title="Permanent link">&para;</a></h1>
<p>new_df2 = pd.DataFrame(df2.stack())
new_df2.reset_index(inplace=True)
new_df2 = new_df2.rename({0:"Count", "sex": "Sex", "ethnicity": "Ethnicity"}, axis="columns")</p>
<p>fig1 = px.bar(new_df2, x="Sex", y="Count", color="Ethnicity",
             title= "Ethnicity and Sex Characteristics of Participants in the BACPAC Study",
             width= 800, height = 500)
fig1.update_layout(title_font_size=20)
fig1.show()
<div class="highlight"><pre><span></span><code>## Opiod pain medication profiling at two time points

```{code-cell} ipython3
---
jupyter:
  source_hidden: true
---
# Read substance use tsv file into dataframe
substance_df = pd.read_csv(&quot;./substance_use_SMART.tsv&quot;, sep=&quot;\t&quot;, encoding=&quot;utf-8&quot;)

# Combine substance use df and demographic df based on participant id
def find_participant(mydf, endstr):
    participant_id = []
    for i in list(mydf[&quot;submitter_id&quot;]):
        i_participant = i.rstrip(endstr)
        participant_id.append(i_participant)
    return participant_id
substance_participant_id = find_participant(substance_df,&quot;_sc&quot;)
substance_df[&quot;participant_id&quot;] = substance_participant_id
demo_combine_substance = substance_df.merge(demo_bacpac, left_on=&quot;participant_id&quot;,
                                            right_on=&quot;submitter_id&quot;, how=&quot;outer&quot;)

# Add one property of time point in the df
def find_timepoint(mydf):
    timepoint = []
    for i in list(mydf[&quot;visits.submitter_id&quot;]):
        if i.endswith(&quot;Week 0&quot;):
            timepoint.append(&quot;Week 0&quot;)
        else:
            timepoint.append(&quot;Week 12&quot;)
    return timepoint

demo_combine_substance[&quot;time_point&quot;] = find_timepoint(demo_combine_substance)

# Compute a frequency table using opioid medication factor and time point factor
opioid_crosstab = pd.crosstab(index=demo_combine_substance[&#39;OPIOID01&#39;],
                              columns=demo_combine_substance[&#39;time_point&#39;])
new_opioid = pd.DataFrame(opioid_crosstab.stack())
new_opioid.reset_index(inplace=True)
new_opioid = new_opioid.rename({0:&quot;Count&quot;, &quot;OPIOID01&quot;: &quot;Taking Opioid&quot;, &quot;time_point&quot;: &quot;Time Point&quot;},
                               axis=&quot;columns&quot;)

# Generate a bar chart showing the opioid taking at two time points
fig2 = px.bar(new_opioid, x=&quot;Taking Opioid&quot;, y=&quot;Count&quot;, color=&quot;Taking Opioid&quot;,
             facet_row=&quot;Time Point&quot;, width=800, height=400)
fig2.update_layout(title_text=&quot;Self-Report of Opioid Pain Medication Use at Baseline and Twelve Weeks&quot;,title_font_size=20)
for data in fig2.data:
    data[&quot;width&quot;]=0.6
fig2.show()
</code></pre></div></p>
<ul>
<li>We observed an increase of participants taking opioid pain medication at the week 12 time point compared to baseline.</li>
</ul>
<h2 id="code-cell-ipython3_2">```{code-cell} ipython3<a class="headerlink" href="#code-cell-ipython3_2" title="Permanent link">&para;</a></h2>
<p>jupyter:
  source_hidden: true</p>
<hr />
<h1 id="generate-a-bar-chart-showing-the-opioid-taking-at-two-time-points-in-different-sex-groups">Generate a bar chart showing the opioid taking at two time points in different sex groups<a class="headerlink" href="#generate-a-bar-chart-showing-the-opioid-taking-at-two-time-points-in-different-sex-groups" title="Permanent link">&para;</a></h1>
<p>opioid_gender = pd.crosstab(index=[demo_combine_substance['OPIOID01'], demo_combine_substance['sex']],
                            columns=demo_combine_substance['time_point'])
new_opioid_gender = pd.DataFrame(opioid_gender.stack())
new_opioid_gender.reset_index(inplace=True)
new_opioid_gender = new_opioid_gender.rename({0:"Count", "OPIOID01": "Taking Opioid",
                                              "time_point": "Time Point", "sex": "Sex"}, axis="columns")
fig3 = px.bar(new_opioid_gender, y="Sex", x="Count", color="Taking Opioid",
             facet_col="Time Point", width=800, height=400,  orientation='h',
             category_orders={"Sex": ["Intersex", "Unknown", "Male", "Female"]})
fig3.update_layout(title_text="Opioid Pain Medication at Two Time Points in Different Sex Groups",
                   title_font_size=20)
fig3.show()
<div class="highlight"><pre><span></span><code>- We observed an increase of particpants taking opioid medication at week 12 in both male and femal groups compared to baseline week 0.

## Physical function outcomes
 The cell below uses the Physical Function 6b T-Score to display physical function outcomes in different ethnicity groups at week 0 and week 12.

```{code-cell} ipython3
---
jupyter:
  source_hidden: true
---
# Read physical_function_SMART.tsv into dataframe and merge the df with demographic
function_df = pd.read_csv(&quot;./physical_function_SMART.tsv&quot;, sep=&quot;\t&quot;, encoding=&quot;utf-16&quot;)
function_participant_id = find_participant(function_df, &quot;_pf&quot;)
function_df[&quot;participant_id&quot;] = function_participant_id
demo_combine_function = function_df.merge(demo_bacpac, left_on=&quot;participant_id&quot;,
                                          right_on=&quot;submitter_id&quot;, how=&quot;outer&quot;)
demo_combine_function[&quot;time_point&quot;] = find_timepoint(demo_combine_function)

# Summary table of ROMIS-Physical Function 6b T-Score in different ethnicity groups
ethnicity_PRPF6BT = demo_combine_function[[&quot;time_point&quot;,
                                           &quot;PRPF6BT&quot;,
                                           &quot;ethnicity&quot;]].groupby([&#39;time_point&#39;,&#39;ethnicity&#39;]).describe()
ethnicity_PRPF6BT
</code></pre></div></p>
<h2 id="code-cell-ipython3_3">```{code-cell} ipython3<a class="headerlink" href="#code-cell-ipython3_3" title="Permanent link">&para;</a></h2>
<p>jupyter:
  source_hidden: true</p>
<hr />
<h1 id="visualize-the-distribution-of-physical-function-6b-t-score">Visualize the distribution of Physical Function 6b T-Score<a class="headerlink" href="#visualize-the-distribution-of-physical-function-6b-t-score" title="Permanent link">&para;</a></h1>
<h1 id="at-two-time-points-for-hispanic-and-non-hispanic-ethnicity-groups">at two time points for hispanic and non-hispanic ethnicity groups<a class="headerlink" href="#at-two-time-points-for-hispanic-and-non-hispanic-ethnicity-groups" title="Permanent link">&para;</a></h1>
<p>fig5 = make_subplots(
    rows=2, cols=2,
    specs=[[{"colspan": 2}, None],
           [{}, {}]],
    subplot_titles=("PROMIS-Physical Function 6b T-Score Distribution at Two Time Points","Hispanic or Latino",
                    "Not Hispanic or Latino"))</p>
<p>fig5.add_trace(go.Histogram(x=demo_combine_function[demo_combine_function["time_point"]=="Week 0"]["PRPF6BT"],
                           marker_color='#EB89B5', opacity=0.75, nbinsx=20, name="Week 0"),
               row=1, col=1)
fig5.add_trace(go.Histogram(x=demo_combine_function[demo_combine_function["time_point"]=="Week 12"]["PRPF6BT"],
                           marker_color='#2B6CBE', opacity=0.75, nbinsx=20, name="Week 12"),
               row=1, col=1)
fig5.add_trace(go.Histogram(x=demo_combine_function[(demo_combine_function["time_point"]=="Week 0")&amp;(demo_combine_function["ethnicity"]=="Hispanic or Latino")]["PRPF6BT"],
                           marker_color='#EB89B5', opacity=0.75, nbinsx=20,showlegend=False),
               row=2, col=1)
fig5.add_trace(go.Histogram(x=demo_combine_function[(demo_combine_function["time_point"]=="Week 12")&amp;(demo_combine_function["ethnicity"]=="Hispanic or Latino")]["PRPF6BT"],
                           marker_color='#2B6CBE', opacity=0.75, nbinsx=20,showlegend=False),
               row=2, col=1)
fig5.add_trace(go.Histogram(x=demo_combine_function[(demo_combine_function["time_point"]=="Week 0")&amp;(demo_combine_function["ethnicity"]=="Not Hispanic or Latino")]["PRPF6BT"],
                           marker_color='#EB89B5', opacity=0.75, nbinsx=20,showlegend=False),
               row=2, col=2)
fig5.add_trace(go.Histogram(x=demo_combine_function[(demo_combine_function["time_point"]=="Week 12")&amp;(demo_combine_function["ethnicity"]=="Not Hispanic or Latino")]["PRPF6BT"],
                           marker_color='#2B6CBE', opacity=0.75, nbinsx=20,showlegend=False),
               row=2, col=2)</p>
<p>fig5.update_layout(barmode='overlay', width=800, height=500,legend_title_text='Time Point')
fig5.update_layout(margin=dict(l=20, r=20, t=50, b=20, pad=2))
fig5.update_yaxes(title_text="Count",
                  title_font_size=15, range=[0, 40], row=1, col=1)
fig5.update_xaxes(title_text="PROMIS-Physical Function 6b T-Score",
                  title_font_size=15,
                  range=[29, 49], row=1, col=1)
fig5.update_yaxes(title_text="Count",
                  title_font_size=15, range=[0, 15], row=2, col=1)
fig5.update_xaxes(title_text="PROMIS-Physical Function 6b T-Score",
                  title_font_size=15, range=[29, 49], row=2, col=1)
fig5.update_yaxes(title_text="Count",
                  title_font_size=15, range=[0, 15], row=2, col=2)
fig5.update_xaxes(title_text="PROMIS-Physical Function 6b T-Score",
                  title_font_size=15, range=[29, 49], row=2, col=2)</p>
<p>fig5.show()
<div class="highlight"><pre><span></span><code>```{code-cell} ipython3
</code></pre></div></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../.." class="md-footer__link md-footer__link--prev" aria-label="Previous: Home" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
        
        <a href="../../contact/" class="md-footer__link md-footer__link--next" aria-label="Next: Contact" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Contact
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.indexes", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.37e9125f.min.js"></script>
      
    
  </body>
</html>